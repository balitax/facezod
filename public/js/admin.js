function init(){$("#nomor").focus();var e=$("#warna");e.ColorPicker({onShow:function(e){$(e).fadeIn()},onSubmit:function(t,n,r,i){e.val(n);e.ColorPickerHide()},onBeforeShow:function(){e.ColorPickerSetColor(this.value)},onChange:function(t,n,r,i){e.val(n)}});$("#tanggal").datepicker({format:"dd-mm-yyyy",autoclose:true,language:"id"});$(".paginasi a").click(function(e){var t=$(this).prop("href");$("#konten").load(t,function(){init()});e.preventDefault();return false})}function zodiak(e){var t=$(e).data("zodiak");$("#zodiak").data("zodiak",t).text(t);$(e).parent().remove()}function formTambahRamalan(e){$("#konten").load(urlTambahRamalan,function(){init()});link(e)}function tambahRamalan(){var e=$.trim($("#nomor").val());var t=$.trim($("#warna").val());var n=$.trim($("#tanggal").val());var r=$.trim($("#zodiak").data("zodiak"));var i=$.trim($("#umum").val());var s=$.trim($("#asmara").val());var o=$.trim($("#karir").val());var u=$.trim($("#motivasi").val());$.post(urlTambahRamalan,{_token:token,nomor:e,warna:t,tanggal:n,zodiak:r,umum:i,asmara:s,karir:o,motivasi:u},function(e,t,n){$("#tambah").button("loading");if(e.status){if(e.zodiak){$("#error").text(e.zodiak).fadeIn()}else{$("#error").text("").fadeOut()}if(e.nomor){$("#form-nomor").addClass("has-error");$("#error-nomor").text(e.nomor).fadeIn()}else{$("#form-nomor").removeClass("has-error");$("#error-nomor").text("").fadeOut()}if(e.warna){$("#form-warna").addClass("has-error");$("#error-warna").text(e.warna).fadeIn()}else{$("#form-warna").removeClass("has-error");$("#error-warna").text("").fadeOut()}if(e.tanggal){$("#form-tanggal").addClass("has-error");$("#error-tanggal").text(e.tanggal).fadeIn()}else{$("#form-tanggal").removeClass("has-error");$("#error-tanggal").text("").fadeOut()}if(e.umum){$("#form-umum").addClass("has-error");$("#error-umum").text(e.umum).fadeIn()}else{$("#form-umum").removeClass("has-error");$("#error-umum").text("").fadeOut()}if(e.asmara){$("#form-asmara").addClass("has-error");$("#error-asmara").text(e.asmara).fadeIn()}else{$("#form-asmara").removeClass("has-error");$("#error-asmara").text("").fadeOut()}if(e.karir){$("#form-karir").addClass("has-error");$("#error-karir").text(e.karir).fadeIn()}else{$("#form-karir").removeClass("has-error");$("#error-karir").text("").fadeOut()}if(e.motivasi){$("#form-motivasi").addClass("has-error");$("#error-motivasi").text(e.motivasi).fadeIn()}else{$("#form-motivasi").removeClass("has-error");$("#error-motivasi").text("").fadeOut()}}else{$(".form-group").removeClass("has-error");$(".help-block, #error").text("").fadeOut();$("#sukses").text(e.pesan).fadeIn().fadeOut(5e3);$("input, textarea").val("");$("#nomor").focus()}$("#tambah").button("reset")},"json")}function dataRamalan(e){$("#konten").load(urlDataRamalan,function(){init()});link(e)}function formRubahRamalan(e){var t=$(e).prop("id");$("#konten").load(urlRubahRamalan+"/"+t,function(){init()});link(e)}function rubahRamalan(e){var t=$.trim($("#nomor").val());var n=$.trim($("#warna").val());var r=$.trim($("#tanggal").val());var i=$.trim($("#zodiak").data("zodiak"));var s=$.trim($("#umum").val());var o=$.trim($("#asmara").val());var u=$.trim($("#karir").val());var a=$.trim($("#motivasi").val());$.post(urlRubahRamalan+"/"+e,{_token:token,nomor:t,warna:n,tanggal:r,zodiak:i,umum:s,asmara:o,karir:u,motivasi:a},function(e,t,n){$("#simpan").button("loading");if(e.status){if(e.zodiak){$("#error").text(e.zodiak).fadeIn()}else{$("#error").text("").fadeOut()}if(e.nomor){$("#form-nomor").addClass("has-error");$("#error-nomor").text(e.nomor).fadeIn()}else{$("#form-nomor").removeClass("has-error");$("#error-nomor").text("").fadeOut()}if(e.warna){$("#form-warna").addClass("has-error");$("#error-warna").text(e.warna).fadeIn()}else{$("#form-warna").removeClass("has-error");$("#error-warna").text("").fadeOut()}if(e.tanggal){$("#form-tanggal").addClass("has-error");$("#error-tanggal").text(e.tanggal).fadeIn()}else{$("#form-tanggal").removeClass("has-error");$("#error-tanggal").text("").fadeOut()}if(e.umum){$("#form-umum").addClass("has-error");$("#error-umum").text(e.umum).fadeIn()}else{$("#form-umum").removeClass("has-error");$("#error-umum").text("").fadeOut()}if(e.asmara){$("#form-asmara").addClass("has-error");$("#error-asmara").text(e.asmara).fadeIn()}else{$("#form-asmara").removeClass("has-error");$("#error-asmara").text("").fadeOut()}if(e.karir){$("#form-karir").addClass("has-error");$("#error-karir").text(e.karir).fadeIn()}else{$("#form-karir").removeClass("has-error");$("#error-karir").text("").fadeOut()}if(e.motivasi){$("#form-motivasi").addClass("has-error");$("#error-motivasi").text(e.motivasi).fadeIn()}else{$("#form-motivasi").removeClass("has-error");$("#error-motivasi").text("").fadeOut()}}else{$(".form-group").removeClass("has-error");$(".help-block, #error").text("").fadeOut();$("#sukses").text(e.pesan).fadeIn().fadeOut(5e3);$("#nomor").focus()}$("#simpan").button("reset")},"json")}function konfirmasiHapusRamalan(e){var t=$(e).prop("id");$(".modal-content").load(urlHapusRamalan+"/"+t,function(){$(".modal").modal("show")})}function hapusRamalan(e){$("#simpan").button("loading");$.post(urlHapusRamalan+"/"+e,{},function(e){},"json");$("#simpan").button("reset");$(".modal").modal("hide");$("#konten").load(urlDataRamalan)}function formTambahAdmin(e){$("#konten").load(urlTambahAdmin);link(e)}function tekanTambahAdmin(e){if(e.which==13)tambahAdmin()}function tambahAdmin(){var e=$.trim($("#nama").val());var t=$.trim($("#username").val());var n=$.trim($("#password").val());$.post(urlTambahAdmin,{_token:token,nama:e,username:t,password:n},function(e,t,n){$("#tambah").button("loading");if(e.status){if(e.nama){$("#form-nama").addClass("has-error");$("#error-nama").text(e.nama).fadeIn()}else{$("#form-nama").removeClass("has-error");$("#error-nama").text("").fadeOut()}if(e.username){$("#form-username").addClass("has-error");$("#error-username").text(e.username).fadeIn()}else{$("#form-username").removeClass("has-error");$("#error-username").text("").fadeOut()}if(e.password){$("#form-password").addClass("has-error");$("#error-password").text(e.password).fadeIn()}else{$("#form-password").removeClass("has-error");$("#error-password").text("").fadeOut()}}else{$(".form-group").removeClass("has-error");$(".help-block").text("").fadeOut();$("#sukses").text(e.pesan).fadeIn().fadeOut(5e3);$("input").val("");$("#nama").focus()}$("#tambah").button("reset")},"json")}function dataAdmin(e){$("#konten").load(urlDataAdmin,function(){init()});link(e)}function formRubahAdmin(e){var t=$(e).prop("id");$("#konten").load(urlRubahAdmin+"/"+t,function(){init()});link(e)}function tekanRubahAdmin(e,t){if(e.which==13)rubahAdmin(t)}function rubahAdmin(e){var t=$.trim($("#nama").val());var n=$.trim($("#username").val());var r=$.trim($("#password").val());$.post(urlRubahAdmin+"/"+e,{_token:token,nama:t,username:n,password:r},function(e,t,n){$("#simpan").button("loading");if(e.status){if(e.nama){$("#form-nama").addClass("has-error");$("#error-nama").text(e.nama).fadeIn()}else{$("#form-nama").removeClass("has-error");$("#error-nama").text("").fadeOut()}if(e.username){$("#form-username").addClass("has-error");$("#error-username").text(e.username).fadeIn()}else{$("#form-username").removeClass("has-error");$("#error-username").text("").fadeOut()}if(e.password){$("#form-password").addClass("has-error");$("#error-password").text(e.password).fadeIn()}else{$("#form-password").removeClass("has-error");$("#error-password").text("").fadeOut()}}else{$(".form-group").removeClass("has-error");$(".help-block").text("").fadeOut();$("#sukses").text(e.pesan).fadeIn().fadeOut(5e3);$("#nama").focus()}$("#simpan").button("reset")},"json")}function konfirmasiHapusAdmin(e){var t=$(e).prop("id");$(".modal-content").load(urlHapusAdmin+"/"+t,function(){$(".modal").modal("show")})}function hapusAdmin(e){$("#simpan").button("loading");$.post(urlHapusAdmin+"/"+e,{},function(e){},"json");$("#simpan").button("reset");$(".modal").modal("hide");$("#konten").load(urlDataAdmin)}function formRubahNama(e){$("#konten").load(urlRubahNama);link(e)}function tekanNama(e){if(e.which==13)rubahNama()}function rubahNama(){var e=$.trim($("#nama-sekarang").val());var t=$.trim($("#nama-baru").val());var n=$.trim($("#konfirmasi-nama-baru").val());$.post(urlRubahNama,{_token:token,nama_sekarang:e,nama_baru:t,konfirmasi_nama_baru:n},function(e,t,n){$("#simpan").button("loading");if(e.status){if(e.nama_sekarang){$("#form-nama-sekarang").addClass("has-error");$("#error-nama-sekarang").text(e.nama_sekarang).fadeIn()}else{$("#form-nama-sekarang").removeClass("has-error");$("#error-nama-sekarang").text("").fadeOut()}if(e.nama_baru){$("#form-nama-baru").addClass("has-error");$("#error-nama-baru").text(e.nama_baru).fadeIn()}else{$("#form-nama-baru").removeClass("has-error");$("#error-nama-baru").text("").fadeOut()}if(e.konfirmasi_nama_baru){$("#form-konfirmasi-nama-baru").addClass("has-error");$("#error-konfirmasi-nama-baru").text(e.konfirmasi_nama_baru).fadeIn()}else{$("#form-konfirmasi-nama-baru").removeClass("has-error");$("#error-konfirmasi-nama-baru").text("").fadeOut()}}else{$(".form-group").removeClass("has-error");$(".help-block").text("").fadeOut();$("#sukses").text(e.pesan).fadeIn().fadeOut(5e3);$("input").val("");$("#nama-sekarang").focus()}$("#simpan").button("reset")},"json")}function formRubahUsername(e){$("#konten").load(urlRubahUsername);link(e)}function tekanUsername(e){if(e.which==13)rubahUsername()}function rubahUsername(){var e=$.trim($("#username-sekarang").val());var t=$.trim($("#username-baru").val());var n=$.trim($("#konfirmasi-username-baru").val());$.post(urlRubahUsername,{_token:token,username_sekarang:e,username_baru:t,konfirmasi_username_baru:n},function(e,t,n){$("#simpan").button("loading");if(e.status){if(e.username_sekarang){$("#form-username-sekarang").addClass("has-error");$("#error-username-sekarang").text(e.username_sekarang).fadeIn()}else{$("#form-username-sekarang").removeClass("has-error");$("#error-username-sekarang").text("").fadeOut()}if(e.username_baru){$("#form-username-baru").addClass("has-error");$("#error-username-baru").text(e.username_baru).fadeIn()}else{$("#form-username-baru").removeClass("has-error");$("#error-username-baru").text("").fadeOut()}if(e.konfirmasi_username_baru){$("#form-konfirmasi-username-baru").addClass("has-error");$("#error-konfirmasi-username-baru").text(e.konfirmasi_username_baru).fadeIn()}else{$("#form-konfirmasi-username-baru").removeClass("has-error");$("#error-konfirmasi-username-baru").text("").fadeOut()}}else{$(".form-group").removeClass("has-error");$(".help-block").text("").fadeOut();$("#sukses").text(e.pesan).fadeIn().fadeOut(5e3);$("input").val("");$("#username-sekarang").focus()}$("#simpan").button("reset")},"json")}function formRubahPassword(e){$("#konten").load(urlRubahPassword);link(e)}function tekanPassword(e){if(e.which==13)rubahPassword()}function rubahPassword(){var e=$.trim($("#password-sekarang").val());var t=$.trim($("#password-baru").val());var n=$.trim($("#konfirmasi-password-baru").val());$.post(urlRubahPassword,{_token:token,password_sekarang:e,password_baru:t,konfirmasi_password_baru:n},function(e,t,n){$("#simpan").button("loading");if(e.status){if(e.password_sekarang){$("#form-password-sekarang").addClass("has-error");$("#error-password-sekarang").text(e.password_sekarang).fadeIn()}else{$("#form-password-sekarang").removeClass("has-error");$("#error-password-sekarang").text("").fadeOut()}if(e.password_baru){$("#form-password-baru").addClass("has-error");$("#error-password-baru").text(e.password_baru).fadeIn()}else{$("#form-password-baru").removeClass("has-error");$("#error-password-baru").text("").fadeOut()}if(e.konfirmasi_password_baru){$("#form-konfirmasi-password-baru").addClass("has-error");$("#error-konfirmasi-password-baru").text(e.konfirmasi_password_baru).fadeIn()}else{$("#form-konfirmasi-password-baru").removeClass("has-error");$("#error-konfirmasi-password-baru").text("").fadeOut()}}else{$(".form-group").removeClass("has-error");$(".help-block, #error").text("").fadeOut();$("#sukses").text(e.pesan).fadeIn().fadeOut(5e3);$("input").val("");$("#password-sekarang").focus()}$("#simpan").button("reset")},"json")}function logout(e){$.get(urlLogout,function(){$(location).prop("href",urlLogin)})}function link(e){$(".nav-tabs li").removeClass("active");$(e).parent().addClass("active")}$(function(){init()});